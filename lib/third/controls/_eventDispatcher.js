var List=require("./../core/_list"),invokeExtends=require("./../core/_ext"),EventDispatcher=function(){this.contains=function(s,i){if(this._ls)for(var e,t=0,n=this._ls.size();t<n;t++)if(e=this._ls.get(t),s===e.l&&i===e.s)return!0;return!1},this.add=function(s,i,e){var t={l:s,s:i,a:e};this._ls||(this._ls=new List),this._f?(this._addPendings||(this._addPendings=new List),this._addPendings.add(t)):t.a?this._ls.add(t,0):this._ls.add(t)},this.remove=function(s,i){this._ls&&(this._f?(this._removePendings||(this._removePendings=new List),this._removePendings.add({l:s,s:i})):this._remove(s,i))},this._remove=function(s,i){for(var e,t=0,n=this._ls.size();t<n;t++)if(e=this._ls.get(t),e.l===s&&e.s===i)return void this._ls.removeAt(t)},this.fire=function(s){if(this._ls){var i,e,t=this._ls.size();for(this._f=!0,i=0;i<t;i++)e=this._ls.get(i),e.s?e.l.call(e.s,s):e.l(s);if(this._f=!1,this._removePendings){for(t=this._removePendings.size(),i=0;i<t;i++)e=this._removePendings.get(i),this._remove(e.l,e.s);delete this._removePendings}if(this._addPendings){for(t=this._addPendings.size(),i=0;i<t;i++)e=this._addPendings.get(i),e.a?this._ls.add(e,0):this._ls.add(e);delete this._addPendings}}}};invokeExtends("third.EventDispatcher",Object,EventDispatcher),EventDispatcher.prototype.getClassName=function(){return"third.EventDispatcher"},module.exports=EventDispatcher;