var PropertyChangeDispatcher=require("./../controls/_PropertyChangeDispatcher"),List=require("./../core/_list"),_third=require("./../core/_third"),_con=require("./../constants/index"),Bd=_con.Bd,invokeExtends=require("./../core/_ext"),Data=function t(i){if(t.superClass.constructor.apply(this,arguments),this._childList=new List,this._childMap={},this._clientMap={},void 0===i||null===i)this._id=_third.id();else if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)this._id=i;else{for(var e in i)if("clients"===e)for(var n in i.clients)this._clientMap[n]=i.clients[n];else if("styles"===e)for(var s in i.styles)this._styleMap[s]=i.styles[s];else null!=i[e]&&(this["_"+e]=i[e]);null==this._id&&(this._id=_third.id())}this.IData=!0,this.IClient=!0,this.__client=1,this.__new=1,this._parent=null,this.__accessor=["name","name2","icon","toolTip"],this._icon=Bd.ICON_DATA,this.getId=function(){return this._id},this.getChildren=function(){return this._childList},this.getChildrenSize=function(){return this._childList.size()},this.toChildren=function(t,i){return this._childList.toList(t,i)},this.addChild=function(t,i){return void 0===i&&(i=this._childList.size()),!(!t||t===this)&&(!this._childMap[t.getId()]&&(!this.isDescendantOf(t)&&(t.getParent()&&t.getParent().removeChild(t),(i<0||i>this._childList.size())&&(i=this._childList.size()),this._childList.add(t,i),this._childMap[t._id]=t,t.setParent(this),this.firePropertyChange("children",null,t),this.onChildAdded(t,i),!0)))},this.onChildAdded=function(t,i){},this.removeChild=function(t){if(!t)return!1;if(!this._childMap[t._id])return!1;var i=this._childList.remove(t);return delete this._childMap[t._id],this.firePropertyChange("children",t,null),t.setParent(null),this.onChildRemoved(t,i),!0},this.onChildRemoved=function(t,i){},this.getChildAt=function(t){return this._childList.get(t)},this.clearChildren=function(){if(0===this._childList.size())return!1;for(var t=this._childList.toArray(),i=t.length,e=0;e<i;e++)this.removeChild(t[e]);return this.onChildrenCleared(t),!0},this.onChildrenCleared=function(t){},this.getParent=function(){return this._parent},this.setParent=function(t){if(!(this._isUpdatingParent||this._parent===t||this===t||t&&t.isDescendantOf(this))){var i=this._parent;this._parent=t,this._isUpdatingParent=!0,i&&i.removeChild(this),t&&t.addChild(this),delete this._isUpdatingParent,this.firePropertyChange("parent",i,t),this.onParentChanged(i,t)}},this.onParentChanged=function(t,i){},this.hasChildren=function(){return this._childList.size()>0},this.isRelatedTo=function(t){return!!t&&(this.isDescendantOf(t)||t.isDescendantOf(this))},this.isParentOf=function(t){return!!t&&null!=this._childMap[t._id]},this.isDescendantOf=function(t){if(!t)return!1;if(!t.hasChildren())return!1;for(var i=this._parent;i;){if(t===i)return!0;i=i.getParent()}return!1},toString=function(){return this.getName()?this.getName():this._id}};invokeExtends("third.Data",PropertyChangeDispatcher,Data),Data.prototype.getClassName=function(){return"third.Data"},module.exports=Data;