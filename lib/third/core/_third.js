function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys),ImageAsset=require("./_imageAsset"),_cons=require("./../constants"),Bd=_cons.Bd,UserAgent=require("./_userAgent"),objKey2List=require("./_objKey2List"),extend=require("./../private/_extend"),_tree=require("./../private/_tree"),_third={isDeserializing:!1,isCalculatingBus:!1,images:{},registerImage:function(e,t,r,n,i){_third.images[e]=new ImageAsset(e,t,r,n,i)},getRegisteredImageNames:function(){return(0,_keys2.default)(_third.images)},unregisterImage:function(e){delete _third.images[e]},getImageAsset:function(e){return _third.images[e]},callLater:function(e,t,r,n){return setTimeout(function(){e.apply(t,r)},n||Bd.CALL_LATER_DELAY)},isEmptyObject:function(e){for(var t in e)return console.log(t),!1;return!0},num:function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},getter:function(e){var t=e.charAt(0).toUpperCase()+e.slice(1),r=/ble$/.test(e)||/ed$/.test(e)?"is":"get";return r+t},setter:function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return"set"+t},_id:["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],id:function(){for(var e=[],t=0;t<32;t++)e[t]=this._id[Math.floor(16*Math.random())];return e[12]="4",e[16]=this._id[3&e[16]|8],e.join("")},keys:function(e){return objKey2List(e)},es:["toString","toLocaleString","valueOf"],ip:function(e,t){var r="_"+t;e[_third.getter(t)]=function(){return this[r]},e[_third.setter(t)]=function(e){var n=this[r];this[r]=e,this.firePropertyChange(t,n,e)}},ibool:function(e,t){var r="_"+t,n=t.charAt(0).toUpperCase()+t.slice(1);e["is"+n]=function(){return this[r]},e[_third.setter(t)]=function(e){var n=this[r];this[r]=e,this.firePropertyChange(t,n,e)}},getValue:function(e,t,r){var n=t.charAt(0).toUpperCase()+t.slice(1),i="get"+n,o="is"+n;return r?"boolean"===r?e[o]():e[i]():e[i]?e[i]():e[o]?e[o]():e[t]},setValue:function(e,t,r){e["set"+t.charAt(0).toUpperCase()+t.slice(1)](r)},clone:function(e){if(!e)return null;var t={};for(var r in e)t[r]=e[r];return t},classCache:{},getClass:function(e){var t=_third.classCache[e];if(!t){var r=e.split("."),n=r.length;t=window;for(var i=0;i<n;i++)t=t[r[i]];_third.classCache[e]=t}return t},newInstance:function(e){var t=_third.getClass(e);if(!t)return null;var r=arguments.length,n=arguments;if(1===r)return new t;if(2===r)return new t(n[1]);if(3===r)return new t(n[1],n[2]);if(4===r)return new t(n[1],n[2],n[3]);if(5===r)return new t(n[1],n[2],n[3],n[4]);if(6===r)return new t(n[1],n[2],n[3],n[4],n[5]);if(7===r)return new t(n[1],n[2],n[3],n[4],n[5],n[6]);if(8===r)return new t(n[1],n[2],n[3],n[4],n[5],n[6],n[7]);throw"don't support args more than 7"},addMethod:function(e,t){var r=e.prototype;for(var n in t)r[n]=t[n]},ext:function(e,t,r){var n;if("string"==typeof className&&(n=e,e=_third.getClass(e)),t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.supClass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}if(n&&(e.prototype.getClassName=function(){return n}),r){var o=e.prototype;for(var s in r)extend.ext(s,o,r);for(var u=_third.es.length,a=0;a<u;a++)s=_third.es[a],r.hasOwnProperty(s)&&!r.propertyIsEnumerable(s)&&(o[s]=r[s])}},setViewBounds:function(e,t){if(e)if(e.adjustBounds)e.adjustBounds(t);else{var r=e.style;!r&&e.getView()&&(r=e.getView().style),r&&(r.position="absolute",r.left=t.x+"px",r.top=t.y+"px",r.width=t.width+"px",r.height=t.height+"px")}},getImageSrc:function(e){var t=_third.getImageAsset(e);return t?t.getSrc()?t.getSrc():t.getImage().getAttribute("src"):e},nextColorCount:0,nextColor:function(){return _third.nextColorCount>=Bd.COLORS.length&&(_third.nextColorCount=0),Bd.COLORS[_third.nextColorCount++]},isCtrlDown:function(e){return e.ctrlKey||e.metaKey},isShiftDown:function(e){return e.shiftKey},isAltDown:function(e){return e.altKey},setText:function(e,t,r){r?UserAgent.isFirefox?e.textContent=t:e.innerText=t:e.innerHTML=t},fillDescendant:function(e,t){t.add(e),e.hasChildren()&&e.getChildren().forEach(function(e){_third.fillDescendant(e,t)})}};extend.__new=function(e,t){e.newInstance=function(){var e=_third.getClass(this.getClassName());if(!e)return null;var t=arguments.length,r=arguments;if(0===t)return new e;if(1===t)return new e(r[0]);if(2===t)return new e(r[0],r[1]);if(3===t)return new e(r[0],r[1],r[2]);if(4===t)return new e(r[0],r[1],r[2],r[3]);if(5===t)return new e(r[0],r[1],r[2],r[3],r[4]);if(6===t)return new e(r[0],r[1],r[2],r[3],r[4],r[5]);if(7===t)return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6]);throw"don't support args more than 7"}},extend.__tree=_tree,_third.extend=extend,module.exports=_third;