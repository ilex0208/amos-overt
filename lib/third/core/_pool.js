var List=require("./_list"),Pool=function(t,e){"string"==typeof t?this.func=function(){return document.createElement(t)}:this.func=t,this.tagName=t,null!=e&&(this.redundancy=e),this.redundancy=2,this.currentIndex=-1,this.get=function(){if(this.currentIndex++,this.currentIndex===this.size()){var t=this.func();return t._pool=this,t.style.margin="0px",t.style.padding="0px",this.list||(this.list=new List),this.list.add(t),t}return this.list.get(this.currentIndex)},this.release=function(t){this.list&&this.list.remove(t)>=0&&(delete t._selectData,delete t._expandData,delete t._checkData,delete t._editInfo,delete t.keepDefault,t.style.margin="0px",t.style.padding="0px",t.style.backgroundColor="",t.removeAttribute("title"),"img"===this.tagName&&t.removeAttribute&&(t.removeAttribute("width"),t.removeAttribute("height"),t.removeAttribute("src")),this.list.add(t),this.currentIndex--)},this.reset=function(){this.currentIndex=-1},this.clear=function(){if(this.list)for(;this.redundancy+this.currentIndex<this.list.size()-1;)delete this.list.removeAt(this.list.size()-1)._pool},this.size=function(){return this.list?this.list.size():0}};module.exports=Pool;