function Render(e,t,o,a){function r(){e.clearRect(0,0,t,o)}function n(a){e.fillStyle=a.backgroundColor,e.fillRect(0,0,t,o),l.bgPattern&&(e.fillStyle=l.bgPattern,e.globalAlpha=a.backgourndImageOpacity,e.fillRect(0,0,t,o),e.globalAlpha=1)}var l=this,g=a||defaultOpt.bgOptions;this.draw=function(e){r(),n(g)},this.itemLoaded=function(t,o){if(t.backgroundImage)try{l.bgImg=new Image,l.bgImg.addEventListener("load",function(){l.bgPattern=e.createPattern(l.bgImg,"repeat"),o()},!1),l.bgImg.src=t.backgroundImage}catch(e){throw o(),new Error("ctopo backgroundImage load error")}finally{console.log("finally execute")}else o()}}var defaultOpt={bgOptions:{backgroundColor:"#ffffff",backgroundImage:null,backgourndImageOpacity:.3,tooltipBackgroundColor:"rgba(0, 0, 0, 0.7)",tooltipColor:"rgb(255, 255, 255)"}};module.exports={Render:Render};