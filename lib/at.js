function createStageFromJson(jsonStr,$canvas){var jsonObj=void 0;eval("jsonObj = "+jsonStr);var $stage=new Stage($canvas);for(var k in jsonObj)"childs"!=k&&($stage[k]=jsonObj[k]);var scenes=jsonObj.childs;return scenes.forEach(function(e){var t=new Scene($stage);for(var n in e)"childs"!=n&&(t[n]=e[n]),"background"==n&&(t.background=e[n]);var o=e.childs;o.forEach(function(e){var n=null,o=e.elementType;"node"==o?n=new _n.Node:"CircleNode"==o&&(n=new _n.CircleNode);for(var a in e)n[a]=e[a];t.add(n)})}),$stage}var _animate=require("./_animate"),_chart=require("./_chart"),_container=require("./_container"),_e=require("./_baseElement"),Element=require("./_absElement"),_layout=require("./_layout"),_l=require("./_link"),_logo=require("./_logo"),_n=require("./_node"),Scene=require("./_scene"),Stage=require("./_stage"),_util=require("./_util"),find=require("./_extends"),_tobj=require("./_tobj"),Constants=require("./constants/index");Stage.prototype.find=find,Scene.prototype.find=find,_util.loadStageFromJson=function loadStageFromJson(json,$canvas){var stageObj=void 0,obj=eval(json),stage=new Stage($canvas);for(var k in stageObj)if("scenes"!=k)stage[k]=obj[k];else for(var scenes=obj.scenes,i=0;i<scenes.length;i++){var sceneObj=scenes[i],$scene=new Scene(stage);for(var p in sceneObj)if("elements"!=p)$scene[p]=sceneObj[p];else for(var nodeMap={},elements=sceneObj.elements,m=0;m<elements.length;m++){var elementObj=elements[m],type=elementObj.elementType,element=void 0;"Node"==type&&(element=new Node);for(var mk in elementObj)element[mk]=elementObj[mk];nodeMap[element.text]=element,$scene.add(element)}}return console.log(stage),stage},_util.getElementsBound=function(e){for(var t={left:Number.MAX_VALUE,right:Number.MIN_VALUE,top:Number.MAX_VALUE,bottom:Number.MIN_VALUE},n=0;n<e.length;n++){var o=e[n];o instanceof _l.Link||(t.left>o.x&&(t.left=o.x,t.leftNode=o),t.right<o.x+o.width&&(t.right=o.x+o.width,t.rightNode=o),t.top>o.y&&(t.top=o.y,t.topNode=o),t.bottom<o.y+o.height&&(t.bottom=o.y+o.height,t.bottomNode=o))}return t.width=t.right-t.left,t.height=t.bottom-t.top,t},module.exports={AEffect:_animate.Effect,Animate:_animate.Animate,BarChartNode:_chart.BarChartNode,PieChartNode:_chart.PieChartNode,Container:_container,DisplayElement:_e.DisplayElement,InteractiveElement:_e.InteractiveElement,EditableElement:_e.EditableElement,Element:Element,Layout:_layout,layout:_layout,Link:_l.Link,FoldLink:_l.FoldLink,FlexionalLink:_l.FlexionalLink,CurveLink:_l.CurveLink,Logo:_logo,Node:_n.Node,TextNode:_n.TextNode,LinkNode:_n.LinkNode,CircleNode:_n.CircleNode,AnimateNode:_n.AnimateNode,Util:_util,Scene:Scene,Stage:Stage,Tobj:_tobj,createStageFromJson:createStageFromJson,Constants:Constants};